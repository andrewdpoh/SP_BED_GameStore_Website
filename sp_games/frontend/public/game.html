<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>SP/GAMES</title>
    <!-- Base Scripts -->
    <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="./images/logo-white-round.png">
    <!-- Animate On Scroll -->
    <link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css" />
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Monoton&family=Montserrat:wght@100;200;300;400;500;600;700;800&family=Nanum+Myeongjo:wght@400;700;800&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;1,100;1,200;1,300;1,400;1,500&display=swap" rel="stylesheet">
    <!-- CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" href="./css/main.css">
    <link rel="stylesheet" href="./css/game.css">
</head>

<body>
    <!---------------------- NAVBAR ---------------------->
    <nav class="navbar navbar-expand-sm navbar-dark navbarFont">
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <!-- Brand -->
        <a class="navbar-brand" href="index.html">
            <img src="./images/logo-white-round.png" alt="">
            <span id="SP">SP</span><span id="slash">/</span><span>GAMES</span>
        </a>
        <span class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav">
                <li class="nav-item">
                    <a class="nav-link" href="./index.html">Home</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="./store.html">Store</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="./admin.html" id="navAdmin">Admin</a>
                </li>
            </ul>
        </span>
        <a class="nav-link" id='myCart' href="cart.html" hidden>
            My Cart
        </a>
        <a class="navlogin nav-link" href="login.html" hidden>
            Log in
        </a>
        <a class="navlogin nav-link" href="login.html" hidden>
            Sign up
        </a>
        <a class="navlogout nav-link" href="#" hidden>
            Log out
        </a>
    </nav>


    <!------------------------ MAIN BODY ----------------------->

    <div id="mainBody" class="container-fluid">
        <div id="showGame" class="row">
            <div id="gameCard" class="container">
                <div class="row">
                    <div class="col-lg-6">
                        <img id="gameImage" src="">
                    </div>
                    <div class="col-lg-6">
                        <h1 id="gameTitle"></h1>
                        <div id="gameCategorySection">
                            <h2 id="gameCategoryHeader">Categories</h2>
                            <p id="gameCategories"></p>
                        </div>
                        <div id="gamePlatformSection">
                            <h2 id="gamePlatformHeader">Platform</h2>
                            <p id="gamePlatform"></p>
                        </div>
                        <div id="gamePriceSection">
                            <h2 id="gamePriceHeader">Price</h2>
                            <p id="gamePrice">$</p>
                        </div>
                        <div id="gameYearSection">
                            <h2 id="gameYearHeader">Year</h2>
                            <p id="gameYear"></p>
                        </div>
                    </div>
                </div>
                <div class="row d-block" id="gameDescriptionSection">
                    <h3 id="gameDescriptionHeader">Description</h3>
                    <p id="gameDescription"></p>
                </div>
                <div id="addToCartDiv" class="row d-flex justify-content-end">
                    <p id='addedToCartAlert' class='mr-4 mt-2' hidden>Added to cart</p>
                    <p id='alreadyInCartAlert' class='mr-4 mt-2' hidden>Item already in cart</p>
                    <p id='alreadyOwnedAlert' class='mr-4 mt-2' hidden>You already own this</p>
                    <p id="sessionExpiredAlert" class='mr-4 mt-2' hidden>Sorry, your session has expired. Please log in again.</p>
                    <p id='logInToAdd' class='mr-4 mt-2' hidden>Log in to add to cart</p>
                    <button class="btn btn-outline-warning" id="addToCart">Add to cart</button>
                </div>
            </div>
        </div>

        <div id="writeReview" class="row">
            <div id="writeReviewCard" class="container">
                <h2>Write a review</h2>
                <textarea name="writeReview" id="writeReviewInput" cols="66" rows="8"></textarea>
                <div class="rate">
                    <input type="radio" id="star5" name="rate" value="5" />
                    <label for="star5" title="text">5 stars</label>
                    <input type="radio" id="star4" name="rate" value="4" />
                    <label for="star4" title="text">4 stars</label>
                    <input type="radio" id="star3" name="rate" value="3" />
                    <label for="star3" title="text">3 stars</label>
                    <input type="radio" id="star2" name="rate" value="2" />
                    <label for="star2" title="text">2 stars</label>
                    <input type="radio" id="star1" name="rate" value="1" />
                    <label for="star1" title="text">1 star</label>
                </div>
                <!-- Star rating credit to: https://codepen.io/hesguru/pen/BaybqXv -->
                <button id="submitReview" class="btn btn-outline-light">Submit</button>
                <p id="onlyOneReviewAlert" hidden>Sorry, you can only submit 1 review per game</p>
                <p id="reviewSubmitted" hidden>Review Submitted</p>
                <p id="authorizationFailed" hidden>Sorry, your session has expired. Please log in again.</p>
            </div>
        </div>

        <div id="showReview" class="row">
            <div id="showReviewCard" class="container">
                <h1>See what others have to say</h1>
                <div class="reviews container">
                    <!-- Populated by populateReviews.js -->
                </div>
            </div>
        </div>
    </div>
    


    <!------------------------ FOOTER ----------------------->
    <footer class="container-fluid">
        <div class="row m-auto">
            <div class="col">
                <h1>SP/GAMES</h1>
                <h2>Your favourite game library.</h2>
                <p>&copy; 2023 SP/GAMES</p>
            </div>
            <div class="col">
                <ul class="d-flex justify-content-end mr-3">
                    <li>
                        <a href="#"><img src="./images/instagram.png" alt="" class="socialicon"></a>
                    </li>
                    <li>
                        <a href="#"><img src="./images/twitter.png" alt="" class="socialicon"></a>
                    </li>
                    <li>
                        <a href="#"><img src="./images/email.png" alt="" class="socialicon"></a>
                    </li>
                </ul>
            </div>
        </div>
    </footer>


    <!-------------------- My Scripts -------------------->
    <script src="./scripts/navbarHideLogin.js"></script>
    <script src="./scripts/logout.js"></script>
    <script src="./scripts/populateGame2.js"></script>
    <script src="./scripts/submitReview.js"></script>
    <script src="./scripts/populateReviews.js"></script>
    <script src="./scripts/addToCart.js"></script>
    <!-- Below hides things if user is not logged in -->
    <script> if (localStorage.token == undefined) {$('#addToCart')[0].hidden = true; $('#logInToAdd')[0].hidden = false;$('#writeReviewCard')[0].innerHTML = 'Log in to write a review';}</script> 
    <!-- AOS -->
    <script src="https://unpkg.com/aos@next/dist/aos.js"></script>
    <script>
        AOS.init();
    </script>
</body>
</htm